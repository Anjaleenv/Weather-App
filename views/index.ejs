<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weather Checker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

    body {
      font-family: 'Inter', sans-serif;
      background: #65b2dc; /* Tailwind's blue-500 */
      overflow: hidden;
    }

    /* Animated white gradient overlay */
    .animated-bg::before {
      content: "";
      position: absolute;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle at 50% 50%, white 0%, transparent 70%);
      animation: moveGlow 10s infinite linear;
      z-index: 0;
      opacity: 0.3;
      filter: blur(100px);
    }

    @keyframes moveGlow {
      0% {
        transform: translate(-50%, -50%);
      }
      50% {
        transform: translate(0%, 0%);
      }
      100% {
        transform: translate(-50%, -50%);
      }
    }
  </style>
</head>
<body class="relative animated-bg flex items-center justify-center min-h-screen p-6">
  <div class="relative z-10 bg-white/40 backdrop-blur-lg rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border border-white/30">
    <h1 class="text-4xl font-bold text-white mb-6 tracking-wide">‚òÅÔ∏è Weather Checker</h1>

    <input
      id="cityInput"
      type="text"
      placeholder="Enter city name"
      class="w-full p-3 rounded-xl border border-white/40 bg-white/20 text-blue-700 placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/70 mb-4 transition"
    />
    <button
      id="checkBtn"
      class="bg-white/70 text-blue-700 px-6 py-3 rounded-xl font-semibold hover:bg-white transition-all"
    >
      Check Weather
    </button>

    <div id="result" class="mt-6 text-white space-y-2"></div>
  </div>

<script>
    const checkbtn=document.getElementById('checkBtn');
    const cityInput=document.getElementById('cityInput');
    const resultDiv=document.getElementById('result');

    checkbtn.addEventListener('click',async()=>{
        const city=cityInput.value.trim();
        if(!city){
            resultDiv.innerHTML='<p class="text-red-300">Please enter a city name.</p>';
      return;
    }

    resultDiv.innerHTML = '<p class="text-white animate-pulse">Loading...</p>';

    try {
      const res = await fetch(`/weather?city=${encodeURIComponent(city)}`);
      const data = await res.json();

      if (res.ok) {
        resultDiv.innerHTML = `
          <h2 class="text-2xl font-semibold">${data.city}</h2>
          <img src="https://openweathermap.org/img/wn/${data.icon}@2x.png" alt="${data.description}" class="mx-auto" />
          <p class="text-xl font-medium">${data.temp}¬∞C</p>
         
        `;
      } else {
        resultDiv.innerHTML = `<p class="text-red-300">${data.error}</p>`;
      }
    } catch (error) {
      resultDiv.innerHTML = '<p class="text-red-300">Failed to fetch weather data.</p>';
    }
  });

  // üß† Add Enter key listener
  cityInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      checkBtn.click();
    }
  });
</script> 
</body>
</html>
